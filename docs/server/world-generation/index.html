<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.70.0" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="World Generation Bestia integrates a specialized library called WorldGen for world creation. It is a clusterable generator which is cabable of dividing the world creation workload onto multiple, different machines. With this framework it should be possible to create million of square kilometers without hitting any memory limit on the servers during the creation process.
In general it works by creating piplines which are then used to create and transform noise maps.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="World Generation Bestia integrates a specialized library called WorldGen for world creation. It is a clusterable generator which is cabable of dividing the world creation workload onto multiple, different machines. With this framework it should be possible to create million of square kilometers without hitting any memory limit on the servers during the creation process.
In general it works by creating piplines which are then used to create and transform noise maps." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.bestia-game.net/docs/server/world-generation/" />
<meta property="article:modified_time" content="2020-06-11T18:20:38+02:00" />
<title>World Generation | Bestia Game</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.4d34b11806294f51ee5852bec21808d962f1c7298e53d4f042251e021920a3f2.css" integrity="sha256-TTSxGAYpT1HuWFK&#43;whgI2WLxxymOU9TwQiUeAhkgo/I=">
<script defer src="/en.search.min.4524f03d414e2031230cad308e15ee32cb2102ffe5f472d68dc5b03847cd7cd0.js" integrity="sha256-RSTwPUFOIDEjDK0wjhXuMsshAv/l9HLWjcWwOEfNfNA="></script>

<script defer src="/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js" integrity="sha256-dKi7B/C&#43;6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><img src="/logo-white-header.png" alt="Logo" /></a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  <ul>
<li>
  <a href="/docs/mechanics/"><strong>Game Design</strong></a>
<ul>
<li>
  <a href="/docs/mechanics/mechanics/">Game Mechanics</a></li>
<li>
  <a href="/docs/mechanics/master/">Bestia Master</a></li>
<li>
  <a href="/docs/mechanics/bestia/">Bestias</a></li>
<li>
  <a href="/docs/mechanics/environment/">Environment</a></li>
<li>
  <a href="/docs/mechanics/items/">Items</a></li>
<li>
  <a href="/docs/mechanics/resources/">Resources</a></li>
<li>
  <a href="/docs/mechanics/skills/">Skills</a></li>
<li>
  <a href="/docs/mechanics/statusvalues/">Status Values</a></li>
</ul>
</li>
<li>
  <a href="/docs/client/"><strong>Client</strong></a></li>
<li>
  <a href="/docs/server/"><strong>Server</strong></a>
<ul>
<li>
  <a href="/docs/server/architecture/">Architecture</a></li>
<li>
  <a href="/docs/server/ai/">Artificial Intelligence</a></li>
<li>
  <a href="/docs/server/battle/">Battle</a></li>
<li>
  <a href="/docs/server/quests/">Quests</a></li>
<li>
  <a href="/docs/server/scripting/">Scripting</a></li>
<li>
  <a href="/docs/server/world-generation/"class=active>World Generation</a></li>
</ul>
</li>
<li>
  <a href="/docs/api/"><strong>REST API</strong></a></li>
<li>
  <a href="/docs/resources/"><strong>Development Resources</strong></a></li>
</ul>










</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>World Generation</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#world-generation">World Generation</a>
      <ul>
        <li><a href="#world-generation-algorithm">World Generation Algorithm</a></li>
        <li><a href="#base-parameter">Base Parameter</a></li>
        <li><a href="#noise-maps">Noise Maps</a>
          <ul>
            <li><a href="#height-map">Height Map</a></li>
            <li><a href="#humidity-map">Humidity Map</a></li>
            <li><a href="#temperature-map">Temperature Map</a></li>
            <li><a href="#mana-map">Mana Map</a></li>
            <li><a href="#population-map">Population Map</a></li>
          </ul>
        </li>
        <li><a href="#sealevel">Sealevel</a></li>
        <li><a href="#erosion-simulation">Erosion Simulation</a></li>
        <li><a href="#creating-rivers-and-lakes">Creating Rivers and Lakes</a></li>
        <li><a href="#biome-setup">Biome Setup</a></li>
        <li><a href="#terrain-features">Terrain Features</a></li>
        <li><a href="#resource-distribution">Resource Distribution</a></li>
        <li><a href="#settlement-creation">Settlement Creation</a></li>
        <li><a href="#navigation-map-creation">Navigation Map Creation</a>
          <ul>
            <li><a href="#road-creation">Road Creation</a></li>
          </ul>
        </li>
        <li><a href="#world-data-cleanup">World Data Cleanup</a></li>
        <li><a href="#literatur">Literatur</a></li>
      </ul>
    </li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="world-generation">World Generation</h1>
<p>Bestia integrates a specialized library called <strong>WorldGen</strong> for world creation. It is a clusterable generator which is cabable of dividing the world creation workload onto multiple, different machines. With this framework it should be possible to create million of square kilometers without hitting any memory limit on the servers during the creation process.</p>
<p>In general it works by creating piplines which are then used to create and transform noise maps. After the noise was modified and generated the map data is created and saved to the Bestia database in chunks via the <strong>Voxel</strong> module.</p>
<h2 id="world-generation-algorithm">World Generation Algorithm</h2>
<p>There is basically a pipeline in order to generate the Bestia map, these steps are listed here and described below:</p>
<ol>
<li>Setup of Base Parameters</li>
<li>Creating of noise maps based on base parameters
<ol>
<li>Height Map</li>
<li>Humidity Map</li>
<li>Temperature Map</li>
<li>Mana Map</li>
<li>Population Map</li>
</ol>
</li>
<li>Sealevel</li>
<li>Erosion Simulation</li>
<li>Creating Rivers and Lakes</li>
<li>Biome Setup</li>
<li>Terrain Features</li>
<li>Resource Distribution</li>
<li>Settlement Creation</li>
<li>Navigation Map Creation</li>
<li>Road Generation</li>
</ol>
<h2 id="base-parameter">Base Parameter</h2>
<p>The following base parameters are used to generate the map:</p>
<ul>
<li>Total Population 
<link rel="stylesheet" href="/katex/katex.min.css" />
<script defer src="/katex/katex.min.js"></script>
<script defer src="/katex/auto-render.min.js" onload="renderMathInElement(document.body);"></script><span>
  \(P\)
</span>
</li>
<li>World Size <span>
  \(W\)
</span>
 (Depends on expected player count)</li>
<li>Count of Settlements <span>
  \(C\)
</span>
</li>
<li>Seed Value <span>
  \(S\)
</span>
</li>
<li>Maximum Terrain Height <span>
  \(h\)
</span>
</li>
<li>Seelevel (Normalnull) <span>
  \(N\)
</span>
</li>
</ul>
<p>The base parameter are generated randomly based on the expected active player count. They are persisted in the database together with some additional map parameters like creation date or name of the world (to keep some kind of history record).</p>
<h2 id="noise-maps">Noise Maps</h2>
<p>The following noise maps are created by the help of 
  <a href="https://de.wikipedia.org/wiki/Simplex_Noise">OpenSimplexNoise</a> and saved in a shared data storage temporarly until world map generation is finished. In order to save memory its advisable to delete this maps as soon as possible.</p>
<p>Depending on the case the resolution of the heightmaps might be differnt in order to be as memory efficient as possible.</p>
<h3 id="height-map">Height Map</h3>
<p>The heightmap <span>
  \(M_h\)
</span>
 consists of multiple high and low resolution maps which are added and then normalized to a value between 0-1. The lower resolution should have a frequency of about 2-5m. The highest resolution should have a frequency of roughly 4-5km, to give a sense of a &ldquo;big&rdquo; world. Consider maybe 2-3 resolutions in between which a decrease in amplitude.</p>
<p>After the heightmap is created we redistribute the noise values by:</p>
<span>
  \[height_1 = M_{h}^{2.1}\]
</span>

<p>This will push valleys further down and increase the hill heights. After this we will renormalize the values again between 0-1.</p>
<p>To calculate the final hight multiply this hight with the maximum map height.</p>
<span>
  \[height = norm(height) \cdot h\]
</span>

<blockquote>
<p>Heightmap resolution is 1m.</p>
</blockquote>
<p>In general the map should make the illusion to &ldquo;wrap&rdquo; arround, this can possibly archived by pushing everything on the sides under water, or to use a coordinate transform so the the map is actually wrapping around the borders. Which possibility is used for Bestia is not yet decided. As a hint, good shaping function can be done by:</p>
<pre><code>e = lower(d) + e * (upper(d) - lower(d))
</code></pre><p>Where <code>d</code> is the distance to the center of the map.</p>
<h4 id="ridged-noise">Ridged Noise</h4>
<p>For better initial mountains a special function can be sued which is described as:</p>
<pre><code>function ridgenoise(nx, ny) {
  return 2 * (0.5 - abs(0.5 - noise(nx, ny)));
}
</code></pre><p>We can vary the amplitudes of the higher frequencies so that only the mountains get the added noise:</p>
<pre><code>e0 =    1 * ridgenoise(1 * nx, 1 * ny);
e1 =  0.5 * ridgenoise(2 * nx, 2 * ny) * e0;
e2 = 0.25 * ridgenoise(4 * nx, 4 * ny) * (e0+e1);
e = e0 + e1 + e2;
elevation[y][x] = Math.pow(e, exponent);
</code></pre><h3 id="humidity-map">Humidity Map</h3>
<p>The humidity map <span>
  \(M_{hum}\)
</span>
 represents the total annual rainfall between 0-1. The more the humidity is the more snow or rain fall is to be expected (depending on the temperature).</p>
<p>The humidity map is saved in a reduced resolution for later reference for the dynamic environment simulation.</p>
<p>It slightly reduces the humidity based on the height of the terrain like so:</p>
<span>
  \[hum = M_{hum} - 0.4 \cdot M_h\]
</span>

<blockquote>
<p>Humidity resolution 100m.</p>
</blockquote>
<h3 id="temperature-map">Temperature Map</h3>
<p>The temperature map <span>
  \(M_t\)
</span>
 represents the annual average temperature between 0-1.
We assume a desired temperature range of -40 to 40 degree. This is shifted of about +/- 10 degrees randomly upon world creation.</p>
<p>As our temperature map initially holds values between 0-1 the conversion is done like:</p>
<span>
  \[t = M_t \cdot 80 - 40\]
</span>

<p>The temperature is just created as the other maps but then a gradient is added which will increase the temperature towards the middle (equator) of the map by 130% and drop down to top and bottom to 30% of the original value. An example gradient is shown below:</p>
<p>
  <img src="/gradient.png" alt="Example temperature gradient" /></p>
<p>It reduces the temperature the higher the hightmap value is down to a value of 10% by the formula:</p>
<span>
  \[t = M_t - 0.9 \cdot M_h\]
</span>

<blockquote>
<p>Temperature resolution 100m.</p>
</blockquote>
<h3 id="mana-map">Mana Map</h3>
<p>The mana distribution <span>
  \(M_m\)
</span>
 is a normal noise map without any changes. Its done in two passes, a high frequency and also a low frequency pass. This allows us a rapid alteration in a smaller area while we still have big areas with just a higher mana concentration then others.</p>
<blockquote>
<p>Mana resolution 10m.</p>
</blockquote>
<h3 id="population-map">Population Map</h3>
<p>The population distribution <span>
  \(M_p\)
</span>
 is a normal noise map without any changes. But is later heavily modified by influence maps.</p>
<blockquote>
<p>Population resolution 100m.</p>
</blockquote>
<h2 id="sealevel">Sealevel</h2>
<p>The sealevel should chosen that oceans vs landmass ratio is about 20:80. This could be calculated but for now we just assume a fixed height value. Every terrain below is covered by water, the rest is landmass.</p>
<h2 id="erosion-simulation">Erosion Simulation</h2>
<p>Its loosly based on the 
  <a href="https://www.youtube.com/watch?v=9NXL48-Fbb8&amp;t=1009s">SIGGRAPH 2017</a> talk. In short random events a placed on the map like a water droplet. This droplet follows the slope downwards a hill and is able to pickup material. If it has reached its maximum carry capacity it starts to deposit a certain material amount again. A good explanation is found in 
  <a href="https://www.youtube.com/watch?v=eaXk97ujbPQ">Coding Adventures: Hydraulic Erosion</a>.</p>
<h2 id="creating-rivers-and-lakes">Creating Rivers and Lakes</h2>
<p>Water always flows downhill. In order to simulate the water flow random sources of water are placed at elevated points in the map and then the water flow is simulated down the slope of the terrain.</p>
<p>The creation algorithm works as follows:</p>
<ol>
<li>Decide if a chunk has a spring</li>
<li>Detect the spring source</li>
</ol>
<p>The base probability if a chunk has a spring is given by:</p>
<table>
<thead>
<tr>
<th>Avg. Height [m]</th>
<th>P</th>
</tr>
</thead>
<tbody>
<tr>
<td>h &lt; 100</td>
<td>impossible</td>
</tr>
<tr>
<td>100 &lt; h &lt; 1000</td>
<td>0.2</td>
</tr>
<tr>
<td>1000 &lt; h &lt; 1500</td>
<td>0.3</td>
</tr>
<tr>
<td>1500 &lt; h &lt; 2000</td>
<td>0.1</td>
</tr>
<tr>
<td>2000 &lt; h</td>
<td>impossible</td>
</tr>
</tbody>
</table>
<p>The average humidity on the map influences the probability P like:</p>
<span>
  \[P_{total} = (0.6 * hum_{avg} - 0.3) &#43; P_{base}\]
</span>

<p>In order to find the coordiante of a water sources on a map and their probability distribution, the map is sampled at a resolution of 10m and theprobability P of a coordiante is given by:</p>
<ul>
<li>P increases at heights above NN max is 0.6 and then decreases above</li>
<li>P increases with humidity above 0.5 - 1.0 from 1.0 to 3.0</li>
</ul>
<span>
  \[\begin{aligned}
P_h &amp;= height(x, y) / 0.6\\
P_{droplet} &amp;= M_t - 0.9 \cdot M_h
\end{aligned}\]
</span>

<p>After these are placed a water stream is simulated flowing from the source down the slopes. In this is an iterative process. The source will spill out a certain amount of water to the tile. In every step a bit water evaporates depending on the surrounding temperature. The simulation is repeated until there is no significant change in waterlevel and it reaches an equilibrium. If the water floats out at the border it is buffered and in a next run it is exchanged with the border tiles. This is again done until there is no significant change anymore and equilibriunm reached.</p>
<h2 id="biome-setup">Biome Setup</h2>
<blockquote>
<p>Note: For the biome calculation you need to calculate the ranges from the given absolute value in the noise map space.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Biome</th>
<th>Height [m]</th>
<th>Temp. [°C]</th>
<th>Hum.</th>
<th>Special</th>
</tr>
</thead>
<tbody>
<tr>
<td>ICE_DESERT</td>
<td>0 - ∞</td>
<td>-∞ - 0</td>
<td>0 - ∞</td>
<td></td>
</tr>
<tr>
<td>DESERT</td>
<td>0 - ∞</td>
<td>30 - ∞</td>
<td>0 - 0.1</td>
<td></td>
</tr>
<tr>
<td>DRY_FOREST</td>
<td>50 - 1200</td>
<td>10 - 30</td>
<td>0.3 - 0.5</td>
<td></td>
</tr>
<tr>
<td>MOIST_FOREST</td>
<td>50 - 1200</td>
<td>10 - 30</td>
<td>0.5 - 0.8</td>
<td></td>
</tr>
<tr>
<td>RAIN_FOREST</td>
<td>50 - 1200</td>
<td>20 - 40</td>
<td>0.8 - 1.0</td>
<td></td>
</tr>
<tr>
<td>MOUNTAIN</td>
<td>1500 - ∞</td>
<td>-</td>
<td>-</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="terrain-features">Terrain Features</h2>
<p>After the Biomes are placed and the heightmap is finalized by erosion simulation there are predefined features placed on the maps. This can be old temples, caves or other quest relevant artifacts for player interaction.</p>
<p>Usually these kind of features are depending on the kind of biome. For example a forrest biome would then run through the tree entity creation. This entities are stored in a database right when they are created via a entity blueprint.</p>
<table>
<thead>
<tr>
<th>Biome</th>
<th>Possible Features</th>
<th>Influence</th>
</tr>
</thead>
<tbody>
<tr>
<td>ICE_DESERT</td>
<td>Caverns, Ruins</td>
<td>+40% mineral resources</td>
</tr>
<tr>
<td>MOUNTAIN</td>
<td>Caverns, Artefacts</td>
<td>+100% mineral resources</td>
</tr>
<tr>
<td>DRY_FORREST</td>
<td>Caverns, Ruins, Artefacts, Deserted Settlements</td>
<td></td>
</tr>
<tr>
<td>MOIST_FOREST</td>
<td>Caverns, Ruins, Artefacts, Deserted Settlements</td>
<td></td>
</tr>
<tr>
<td>RAIN_FOREST</td>
<td>Caverns, Ruins, Artefacts, Deserted Settlements</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="resource-distribution">Resource Distribution</h2>
<blockquote>
<p>Currently the resource distribution is not implemented.</p>
</blockquote>
<h2 id="settlement-creation">Settlement Creation</h2>
<p>Cities usually form around natural resources like shores, rivers or rich farmland. The algorithm as described below will find suitable city position candidates and then distribute the cities in clusters around the world map. This clustering will make sure there is enough unexplored land for the players left to explore (and to create own settlements). It should also help with the idea of different civilization which could lead to ingame player conflicts.</p>
<p>The algorithm searches the world map and creates matrix with a mesh length of 1km. It will then calculate the chance of a settlement in this grid by taking this into account:</p>
<ul>
<li>Resource Availability
<ul>
<li>Farmland</li>
<li>Minerals</li>
<li>Fishing Grounds</li>
</ul>
</li>
<li>Distance to river or sea</li>
<li>Biome type</li>
</ul>
<p>For certain events the possibility of a settlement is reduced to zero:</p>
<ul>
<li>Land is water</li>
<li>Biome is a mountain</li>
<li>Mana influence is too high</li>
</ul>
<p>Bei allen verbleibenden Punkten muss überprüft werden ob es sich um ein lokales Maximum handelt. Diese Punkte werden zusammen mit ihrer Gewichtung in eine sortierte Liste aufgenommen. Dabei kann ein wandernder Durchschnitt berechnet werden und Werte unterhalb eines gewissen Schwellwertes verworfen werden.</p>
<p>Koordinaten die dann zu nahe beieinander liegen (&lt; 3-6km) werden aus der Liste entfernt.</p>
<p>Anhand der Punkte auf der Liste werden die Siedlungen berechnet. Zu 70% wird eine Stadt aus der oberen Hälfte der Liste der Reihe nach entnommen. Zu 30% wird eine Siedlung zufällig aus einem Kandidaten der unteren Listenhälfte entnommen bis die Anzahl der gewünschten Siedlungen erreicht ist oder die Liste erschöpft ist. Sollte ein Listenteil erschöpft sein, so wird jeweils vom anderen Listenteil mit dem gleichen Muster vorgegangen.</p>
<p>The algorithm for settlement creation is:</p>
<ol>
<li>Determine building count based on settlement population</li>
<li>Buildings are places by poisson disc distribution and gauss distribution</li>
<li>The buildings itself a procedural generated with 
  <a href="https://en.wikipedia.org/wiki/Maze_generation_algorithm#Recursive_division_method">recusive division</a></li>
</ol>
<h2 id="navigation-map-creation">Navigation Map Creation</h2>
<p>The navigation map is created for NPC to fast calculate travel paths other long distances. It creates a connected graph network and the output is put into a 
  <a href="https://neo4j.com/">Neo4J database</a>.</p>
<ul>
<li>Add nodes for each city, artefact and places of interest (POI&rsquo;s)</li>
<li>Add a grid of 10 * 10 points and connect them to every next neighbour node (diagonal connections are allowed)</li>
<li>Weights of these connections is calculated</li>
</ul>
<p>The guidline for weight is 1 for a normal, easy to walk road. It gets higher for e.g. steeper terrain and if there is a slope between the points is more then its marked as climable.</p>
<p>In order to detect climable terrain we follow the connection between the nodes and if the slope over a distance of 5m is higher than 45° it is marked as &lsquo;climb&rsquo;. The weight for sloped terrain is:</p>
<span>
  \[weight_{total} = weight_{base} \cdot min(1.0, (slope - 15) \cdot \frac{4}{30})\]
</span>

<p>For waterways the weight 1 for a calm and normal flowing river and increased based an water speed or obstructions.</p>
<p>Example weights:</p>
<ul>
<li>Normal road: 1</li>
<li>Grassland: 1.5</li>
<li>Rough Terrain: 2</li>
<li>Terrain with lots bushes/thorns: 4</li>
<li>Swamps: 8</li>
</ul>
<p>Additional data labels for the connections, to later help filter them for different use cases:</p>
<ul>
<li><strong>Walk</strong>: Connection can be traveled by food</li>
<li><strong>Drive</strong>: Weagons can drive on this connection (e.g. roads)</li>
<li><strong>Swim</strong>: Waterways connections are marked like this</li>
<li><strong>Climb</strong>: Conneections with slopes higher then 45 degrees are marked like this</li>
</ul>
<blockquote>
<p>Its possible that downscaled graphs with pre-calculated connections must be made in order to speed up NPC navigation later on.</p>
</blockquote>
<h3 id="road-creation">Road Creation</h3>
<p>After the settlements are created, depending on their population size and an estimated travel distance roads are procedurally generated. We loosly follow the approach presented in the Paper 
  <a href="https://www.researchgate.net/publication/229707505_Procedural_Generation_of_Roads">Procedural Generation of Roads</a>.</p>
<p>When the settlements are build connections to the next settlements are established and the shortest route is calculated like described in the paper. The voxel ground is then flattened and an apropriate material is assigned to the road.</p>
<h2 id="world-data-cleanup">World Data Cleanup</h2>
<p>Before a new world is created the old world data is deleted. The following procedure is made after all player entities are persisted and active entity simulation has stopped:</p>
<ol>
<li>Delete all voxel data</li>
<li>Delete all navigation waypoint data</li>
<li>Delete all non-player entity data</li>
</ol>
<h2 id="literatur">Literatur</h2>
<ul>
<li>
  <a href="https://www.redblobgames.com/maps/terrain-from-noise/">www.redblobgames.com - Making maps with noise functions</a> - Very detailed overview of heightmap generation techniques with sample code</li>
<li>
  <a href="http://mc-server.xoft.cz/docs/Generator.html#biome.grown">Generating terrain in Cuberite</a> - Ideas on how to create biomes in an alternate way, also nice overview of noise functions</li>
<li>
  <a href="https://firespark.de/?id=article&amp;article=ProceduralGenerationResources">Procedural Generation Resources</a> - A nice collection of links regarding procedural generation for games</li>
<li>
  <a href="https://en.wikipedia.org/wiki/Dwarf_Fortress">Dwarf Fortress</a> - In general a good inspiration on how the Bestia world generation quality should be</li>
<li>
  <a href="http://paulbourke.net/geometry/transformationprojection/">Spherical Projections (Stereographic and Cylindrical)</a> - Background infos on spherical and zylindrical projections, useful for coordiante transformations</li>
<li>
  <a href="http://pcg.wikidot.com/category-pcg-algorithms">Algorithms for Procedural Content Generation</a> - Another very good and big resource for PCG algorithms</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



  <div><a class="flex align-center" href="https://github.com/tfelix/bestia-docs/commit/c778730ba205b6751fa640e20ec30d69374e875c" title='Last modified by Thomas Felix | June 11, 2020' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>June 11, 2020</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/tfelix/bestia-docs/edit/master/content//docs/server/world-generation.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>

</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#world-generation">World Generation</a>
      <ul>
        <li><a href="#world-generation-algorithm">World Generation Algorithm</a></li>
        <li><a href="#base-parameter">Base Parameter</a></li>
        <li><a href="#noise-maps">Noise Maps</a>
          <ul>
            <li><a href="#height-map">Height Map</a></li>
            <li><a href="#humidity-map">Humidity Map</a></li>
            <li><a href="#temperature-map">Temperature Map</a></li>
            <li><a href="#mana-map">Mana Map</a></li>
            <li><a href="#population-map">Population Map</a></li>
          </ul>
        </li>
        <li><a href="#sealevel">Sealevel</a></li>
        <li><a href="#erosion-simulation">Erosion Simulation</a></li>
        <li><a href="#creating-rivers-and-lakes">Creating Rivers and Lakes</a></li>
        <li><a href="#biome-setup">Biome Setup</a></li>
        <li><a href="#terrain-features">Terrain Features</a></li>
        <li><a href="#resource-distribution">Resource Distribution</a></li>
        <li><a href="#settlement-creation">Settlement Creation</a></li>
        <li><a href="#navigation-map-creation">Navigation Map Creation</a>
          <ul>
            <li><a href="#road-creation">Road Creation</a></li>
          </ul>
        </li>
        <li><a href="#world-data-cleanup">World Data Cleanup</a></li>
        <li><a href="#literatur">Literatur</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












