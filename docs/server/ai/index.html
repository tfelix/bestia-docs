<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.70.0" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Artificial Intelligence The Bestia AI should be very modularized, its design goals should allow the Bestia AI to:
 Perform long term planning Sense enemies Give the impression of self-improving and learning Player should be able to express some level of control over the AI of his controlled Bestia  To archive that goal the AI is separated into three different parts:
 Sensing Behavior Action Planning  In the sensing part, the knowledge of an Agent is updated for example data is written to its blackboard.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Artificial Intelligence" />
<meta property="og:description" content="Artificial Intelligence The Bestia AI should be very modularized, its design goals should allow the Bestia AI to:
 Perform long term planning Sense enemies Give the impression of self-improving and learning Player should be able to express some level of control over the AI of his controlled Bestia  To archive that goal the AI is separated into three different parts:
 Sensing Behavior Action Planning  In the sensing part, the knowledge of an Agent is updated for example data is written to its blackboard." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.bestia-game.net/docs/server/ai/" />
<meta property="article:modified_time" content="2021-01-19T02:07:59+01:00" />
<title>Artificial Intelligence | Bestia Game</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.4d34b11806294f51ee5852bec21808d962f1c7298e53d4f042251e021920a3f2.css" integrity="sha256-TTSxGAYpT1HuWFK&#43;whgI2WLxxymOU9TwQiUeAhkgo/I=">
<script defer src="/en.search.min.05af73c38dfe876567bc8889254a6d5b2e0df9f6ac4bb2b111a50faf295af7da.js" integrity="sha256-Ba9zw43&#43;h2VnvIiJJUptWy4N&#43;fasS7KxEaUPryla99o="></script>

<script defer src="/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js" integrity="sha256-dKi7B/C&#43;6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><img src="/logo-white-header.png" alt="Logo" /></a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  <ul>
<li>
  <a href="/docs/mechanics/"><strong>Game Design</strong></a>
<ul>
<li>
  <a href="/docs/mechanics/mechanics/">Game Mechanics</a></li>
<li>
  <a href="/docs/mechanics/master/">Bestia Master</a></li>
<li>
  <a href="/docs/mechanics/bestia/">Bestias</a></li>
<li>
  <a href="/docs/mechanics/environment/">Environment</a></li>
<li>
  <a href="/docs/mechanics/items/">Items</a></li>
<li>
  <a href="/docs/mechanics/resources/">Resources</a></li>
<li>
  <a href="/docs/mechanics/skills/">Skills</a></li>
<li>
  <a href="/docs/mechanics/statusvalues/">Status Values</a></li>
</ul>
</li>
<li>
  <a href="/docs/client/"><strong>Client</strong></a></li>
<li>
  <a href="/docs/server/"><strong>Server</strong></a>
<ul>
<li>
  <a href="/docs/server/architecture/">Architecture</a></li>
<li>
  <a href="/docs/server/ai/"class=active>Artificial Intelligence</a></li>
<li>
  <a href="/docs/server/battle/">Battle</a></li>
<li>
  <a href="/docs/server/quests/">Quests</a></li>
<li>
  <a href="/docs/server/scripting/">Scripting</a></li>
<li>
  <a href="/docs/server/world-generation/">World Generation</a></li>
</ul>
</li>
<li>
  <a href="/docs/api/"><strong>REST API</strong></a></li>
<li>
  <a href="/docs/resources/"><strong>Development Resources</strong></a></li>
</ul>










</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Artificial Intelligence</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#artificial-intelligence">Artificial Intelligence</a>
      <ul>
        <li><a href="#sensors">Sensors</a></li>
        <li><a href="#behavior">Behavior</a></li>
        <li><a href="#action-planning">Action Planning</a>
          <ul>
            <li><a href="#variables">Variables</a></li>
            <li><a href="#actions-list">Actions List</a></li>
          </ul>
        </li>
        <li><a href="#special-considerations">Special Considerations</a></li>
        <li><a href="#literature">Literature</a></li>
      </ul>
    </li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="artificial-intelligence">Artificial Intelligence</h1>
<p>The Bestia AI should be very modularized, its design goals should allow the Bestia AI to:</p>
<ul>
<li>Perform long term planning</li>
<li>Sense enemies</li>
<li>Give the impression of self-improving and learning</li>
<li>Player should be able to express some level of control over the AI of his controlled Bestia</li>
</ul>
<p>To archive that goal the AI is separated into three different parts:</p>
<ol>
<li>Sensing</li>
<li>Behavior</li>
<li>Action Planning</li>
</ol>
<p>In the sensing part, the knowledge of an Agent is updated for example data is written to its blackboard.
It&rsquo;s separate from the other modules to be able to update it independently as for example running
actions must read the current data and if possible interrupt their execution to trigger a new behavior planning.</p>
<p>The behavior uses different techniques like a behavior tree or a finite state machine in order to define the next
possible actions.</p>


<script src="/mermaid.min.js"></script>

  <script>mermaid.initialize({
  "flowchart": {
    "useMaxWidth":true
  },
  "theme": "default"
}
)</script>




<p class="mermaid">
graph LR
    A[Sensing] -->|Update blackboards| B[Behavior]
    B -->|Create execution plan| C[Action Planning]
</p>

<p>After the set of actions are determined by the knowledge of an agent the action planer is invoked in order to plan
a set of tasks in order to fulfill the action. These tasks are then executed until they fail or get interrupted by an
updates world state. Then planing is re-done.</p>
<h2 id="sensors">Sensors</h2>
<p>The Behemoth server is event-based, thus if for example an Bestia steps into the field of view of another Bestia the
eventing can register a sighting into the according visual sensor of the agent.
The sensor can also actively poll information about the world if their tick is invoked however.</p>
<p>The AI system in Bestia will set new standards. Bestias and NPCs alike should be able to create long-term plans, so-called
game plans or GPs for short. They then follow this strategy until observations or influences from the game world force them
to abandon this plan or the plan is fulfilled.</p>
<p>Available sensors are:</p>
<ul>
<li>Sight</li>
<li>Hearing</li>
<li>Temperature (Weather)</li>
<li>Mana/Magic</li>
</ul>
<p>Sensor information will be put into the Agent&rsquo;s Blackboard to access it later when considerations are made or action plans
are created.</p>
<h2 id="behavior">Behavior</h2>
<p>If the agent is idle of some event has caused a currently running action to fail the behavior of the agent is generated.
Usually this are behavior trees or state machines for simpler NPCs in order to generate the desired behavior.</p>
<h2 id="action-planning">Action Planning</h2>
<p>As soon as the behavior phase generated the &ldquo;how&rdquo; to execute the behavior is planned. In order to do so a GOAP module is
used. It generates a list of all available action for the agent and then perform the best path in order to archive a certain
outcome. Usually the action inside this execution list transform one or multiple world variable to the desired state.
A set of transformable world variables follow. Every item, spell usage etc. must be designed with thee variables in mind.</p>
<h3 id="variables">Variables</h3>
<table>
<thead>
<tr>
<th>Goal</th>
<th>Precondition</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td>Heal</td>
<td>-</td>
<td>Heals the agent</td>
</tr>
<tr>
<td>Eat</td>
<td>HasFood</td>
<td>Agent will eat</td>
</tr>
<tr>
<td>Sleep</td>
<td>-</td>
<td>Increases &ldquo;Rested&rdquo; property</td>
</tr>
</tbody>
</table>
<h3 id="actions-list">Actions List</h3>
<table>
<thead>
<tr>
<th>Actions</th>
<th>Cost</th>
<th>Precondition</th>
<th>Effects</th>
</tr>
</thead>
<tbody>
<tr>
<td>MoveTo</td>
<td>x</td>
<td>-</td>
<td>IsAtPosition</td>
</tr>
<tr>
<td>UseSpell</td>
<td>1</td>
<td>HasMana, HasConsumablesItems</td>
<td>Depending on the skill used</td>
</tr>
<tr>
<td>GetItem</td>
<td>2</td>
<td>DoesNotHaveItem, IsAtPosition</td>
<td></td>
</tr>
<tr>
<td>EquipItem</td>
<td>2</td>
<td>HasItem</td>
<td>Depending on the item</td>
</tr>
<tr>
<td>UseItem</td>
<td>1</td>
<td>HasItem</td>
<td>Depending on the item</td>
</tr>
<tr>
<td>PickupItem</td>
<td>1</td>
<td>IsAtPosition</td>
<td>HasItem</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<p>NPC is hurt and its AI behavior wants to archive the goal <strong>Healing</strong>. The NPC has a Healing spell but no mana to cast it
however it has a mana potion. It also knows that a HP potion lies in his house.</p>
<p>Heal(100HP)
UseItem(HealthPotion): HasItem(HealthPotion) 1
UseItem(HealthPotion): HasItem(HealthPotion) : PickupItem(HealthPotion) : MoveTo(x:10, y:20)
UseSpell(Lesser Heal): HasMana(10) : UseItem(ManaPotion) : HasItem(ManaPotion)</p>
<h2 id="special-considerations">Special Considerations</h2>
<p>AI Blueprints are given as JSON files and AI agents are build from these Blueprints. The Bestia Behemoth
server decides what the tick rate of these agents are, to reduce the load on the server, agents without players near
They tick slower then agents which are currently actively engaged in player interaction.</p>
<p>If NPCs meet they should be able to exchange certain information from their blackboards by exchanging &ldquo;gossip&rdquo; this
should be also put into some kind of chat exchange which can be overheard by players.</p>
<h2 id="literature">Literature</h2>
<ul>
<li>
  <a href="http://www.roguebasin.com/index.php?title=A_Better_Monster_AI">A Better Monster AI - Joseph Swing</a></li>
<li>
  <a href="https://www.youtube.com/watch?v=IvK0ZlNoxjw">Modular AI Systems</a></li>
<li>
  <a href="https://www.youtube.com/watch?v=gm7K68663rA">Goal-Oriented Action Planning: Ten Years of AI Programming</a></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



  <div><a class="flex align-center" href="https://github.com/tfelix/bestia-docs/commit/bd174fd1f9e9aa264ee8e137431a4f5bf95b608a" title='Last modified by Thomas Felix | January 19, 2021' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>January 19, 2021</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/tfelix/bestia-docs/edit/master/content//docs/server/ai.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>

</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#artificial-intelligence">Artificial Intelligence</a>
      <ul>
        <li><a href="#sensors">Sensors</a></li>
        <li><a href="#behavior">Behavior</a></li>
        <li><a href="#action-planning">Action Planning</a>
          <ul>
            <li><a href="#variables">Variables</a></li>
            <li><a href="#actions-list">Actions List</a></li>
          </ul>
        </li>
        <li><a href="#special-considerations">Special Considerations</a></li>
        <li><a href="#literature">Literature</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












